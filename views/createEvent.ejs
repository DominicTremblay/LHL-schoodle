<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Create an Event</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@fullcalendar/core@4.4.0/main.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@fullcalendar/daygrid@4.4.0/main.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@fullcalendar/timegrid@4.4.0/main.min.css"
    />

    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/createEvent.js"></script>
    <script src="https://unpkg.com/@fullcalendar/core@4.4.0/main.min.js"></script>
    <script src="https://unpkg.com/@fullcalendar/daygrid@4.4.0/main.min.js"></script>
    <script src="https://unpkg.com/@fullcalendar/timegrid@4.4.0/main.min.js"></script>
    <script src="https://unpkg.com/@fullcalendar/interaction@4.4.0/main.min.js"></script>
    <script>
      var userEvents = [];
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        console.log("DOM ready");
        const calendarEl = document.getElementById("calendar");
        let calendar = new FullCalendar.Calendar(calendarEl, {
          plugins: ["dayGrid", "timeGrid", "interaction"],
          header: {
            left: "prev,next today",
            center: "title",
            right: "dayGridMonth,timeGridWeek",
          },
          events: [],
          defaultView: "timeGridWeek",
          selectable: true,
          dragScroll: true,
          select: function (info) {
            calendar.addEvent({
              start: info.start,
              end: info.end,
              allDay: info.allDay,
            });
            let event = {
              start: info.start,
              end: info.end,
              allDay: info.allDay,
            };
            userEvents.push(event);
            console.log(userEvents);
            calendar.unselect();
          },
        });
        calendar.render();
        // return userEvents;
      });
    </script>
  </head>

  <body>
    <h1>Create an Event</h1>
    <section class="event-creation-form">
      <form Content-Type="application/x-www-form-urlencoded" id="event-submit">
        <h3>Event Title:</h3>
        <input
          name="title"
          id="event-title"
          placeholder="Enter the event title"
        ></input>
        <h3>Description:</h3>
        <input
          name="description"
          id="event-description"
          placeholder="Enter the description"
        ></input>
        <h3>Location:</h3>
        <input
          name="location"
          id="event-location"
          placeholder="Enter event location"
        ></input>
        <h3>Name:</h3>
        <input
          name="name"
          id="creator-name"
          placeholder="Enter your name"
        ></input>
        <h3>Email:</h3>
        <input
          name="email"
          id="creator-email"
          placeholder="Enter your email"
        ></input>
        <div id="calendar"></div>
        <input type="hidden" id="hiddenVar" />
        <div class="event-submit">
          <button id="event-submit-button" type="submit">Create</button>
        </div>
      </form>
    </section>
  </body>
</html>
